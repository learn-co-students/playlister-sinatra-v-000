<% if flash.has?(:message) %>
  <%= flash[:message] %>
<% end %>

<h1>Edit Song</h1>
<br></br>

<form action="/songs/<%= @song.slug %>" method="POST">

  <input id="hidden" type="hidden" name="_method" value="patch">

  <label>Name: </label>
  <input type="text" name="song[name]" id="name" value="<%= @song.name %>">
  <br></br>



  <p>Or, create a new artist</p>
  <label for="Artist Name">Artist Name</label>
  <input type="text" name="song[artist]" id="Artist Name" value="<%= @song.artist.name %>">
  <br></br>

  <p>Genre: </p>
  <% Genre.all.each do |genre| %>
  <input type="checkbox" name="genre[name]" value="<%= genre.id %>" id="<%= genre.name %>" <%= 'checked' if genre.songs.include?(@song) %>> <%= genre.name %> </input>
  <br></br>
  <% end %>

  <label>and/or New Genre:</label>
  <br></br>
  <input type="text" name="genre[name]" id="genre"><br></br>

  <input type="submit" name="submit" value="Save">

</form>
