<div style="color: red;">
  <% if flash.has?(:message) %>
    <%= flash[:message] %>
  <% end %>
</div>

<h1>Edit <%= @song.name %></h1>

<form action="/songs/<%= @song.slug %>" method="post">
  <input type="hidden" name="_method" value="patch">

  <label for="name">Song Name:</label>
  <input type="text" name="song[name]" id="name" value="<%= @song.name %>"><br><br>

  <label for="artist_name">Artist Name:</label>
  <input type="text" name="artist[name]" value="<%= @artist.name %>" id="artist_name"><br><br>

  <label>Genre(s):</label><br>
  <% @genres.each do |genre| %>

    <input type="checkbox" name="genre[ids][]" value="<%= genre.id %>" id="<%= genre.name %>" <%='checked' if @song.genres.include?(genre) %>> <%= genre.name %></input><br>
  <% end %><br>

  <input type="submit" value="Save">
</form>
