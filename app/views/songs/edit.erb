<% if flash.has?(:message) %>
  <%= flash[:message] %>
<% end %>

<h1>Edit <%= @song.name %></h1>

<form action="/songs/<%= @song.slug %>" method="post">
    <input id="hidden" type="hidden" name="_method" value="patch"></input>

    <label for="name">Song Name:</label>
    <input type="text" name="song[name]" id="name"  value="<%= @song.name %>">

    <label for="artist_name">Artist Name:</label>
    <input type="text" name="song[artist]" id="artist_name"  value="<%= @song.artist.name %>" ></br></br>

    <% Genre.all.each do |genre| %>
        <input type="checkbox" name="genres[]" id="<%= genre.name %>" value="<%= genre.id %>" <%='checked' if @song.genres.include?(genre) %>><%=genre.name%>
    <% end%></br></br>

    <input type="submit" value="Save" />
</form>
