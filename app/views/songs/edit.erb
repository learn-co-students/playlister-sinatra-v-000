<% if flash.has?(:message) %>
  <%= flash[:message] %>
<% end %>

<h1>Update Song<%= @song.name %></h1>

<form action="/songs/<%= @song.slug %>" method="POST">
  <input type="hidden" name="_method" value="PATCH">

    <label>Song Name</label>
    <input type="text" name="song[name]" id="song_name" value="<%= @song.name %>">

    <label>Artist Name</label>
    <input type="text" name="artist[name]" id="Artist Name" value="<%= @song.artist.name %>">


    <% Genre.all.each do |genre| %>
      <label><%= genre.name %></label>
      <input type="checkbox" name="song[genre_ids][]" id="<%= genre.name %>" value="<%= genre.name %>"><%= 'checked' if @song.genres.include?(genre) %>><%= genre.name %></input>
    <% end %>

      <br></br>

    <input type="submit" value="Save">

  </form>
