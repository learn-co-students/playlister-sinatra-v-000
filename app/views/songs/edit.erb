<% unless locals.empty? %>
  <%= message %>
<% end %>

<h1>Update a Song</h1>
<form method="post" action="/songs/<%= @song.slug %>">
<input id="hidden" type="hidden" name="_method" value="patch">
  
  <label>Song Name: </label>
  <input type="text" name="song[name]" id="Name" value="<%= @song.name %>">

  <br></br>

  <label>Choose From Existing Artists: </label>
  <% Artist.all.each do |artist|%>
  <input type="checkbox" name="song[artist]" id="<%= artist.name %>" value="<%= artist.id %>" <%='checked' if @song.artist == artist %>><%= artist.name %></input>
  <% end %>

  <br></br>
  
  <label>or Create New Artist: </label>
  <input type="text" name="artist[name]" id="Artist Name">

  <br></br>

  <label>Choose From Existing Genres: </label>
  <% Genre.all.each do |genre| %>
    <input type="checkbox" name="song[genre_ids][]" id="<%=genre.name%>"   value="<%= genre.id %>" <%= 'checked' if @song.genre_ids.include?(genre.id) %>><%= genre.name %></input>
  <% end %>
  
  <br></br>

  <label>or Create New Genre: </label>
  <input type="text" name="genre[name]" id="Genre Name">
  
  <br></br>

  <input type="submit" value="Save"> 
</form>
<br></br>
<h5>Other Indexes:</h5>
<ul>
  <li><a href="/">Playlister Home</a></li>
  <li><a href="/songs">Song Index</a></li>
  <li><a href="/artists">Artist Index</a></li>
  <li><a href="/genres">Genre Index</a></li>
</ul> 