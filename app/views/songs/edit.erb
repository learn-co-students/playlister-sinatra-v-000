<h3>Edit <%= @song.name %></h3>
<hr>

<form action="/songs/<%= @song.slug %>" method="post">
  <input type="hidden" id="hidden" name="_method" value="patch">
  <label for="Name">Song Name: </label><input type="text" name="song[name]" id="Name" value="<%= @song.name %>"><br><br>

  <!-- artist select box -->
  <label>Select an Artist</label>
  <br><br>
  <select name="song[artist][name]">
  <% @artists.each do |artist| %>
    <option value="<%= artist.name %>" id="<%= artist.name %>" <%= 'selected' if artist.name == @song.artist.name %>><%= artist.name %></option>
  <% end %>
  </select>

  <!-- create an artist -->
  <br><br>
  <label for="Artist Name">Create An Artist: </label><input type="text" name="song[artist][name]" id="Artist Name" value="<%= @song.artist.name %>">

  <!-- genre check boxes -->
  <br><br>
  <label>Select a Genre</label>
  <br><br>
  <% @genres.each do |genre| %>
    <label for="<%= genre.name %>"><%= genre.name %></label>
    <input type="checkbox" name="song[genre_ids][]" value="<%= genre.id %>" id="<%= genre.name %>" <%= 'checked' if @song.genres.include?(genre)%>>
  <% end %>
  <br><br>
  <button type="submit">Save</button>
</form>
